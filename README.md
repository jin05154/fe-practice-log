# 원티드 프리온보딩 코스

코스 선발과제 - 이유민 과제 결과물

## 1. Toggle

#### 구현 방법
- checkbox와 label을 사용하여 input control을 만들어 사용자의 입력(항목 클릭)을 받게끔 하였고, span을 사용하여 Toggle 메뉴의 모양을 만들어줬습니다. 왼쪽/오른쪽 클릭에 따라 toggled라는 state가 바뀌고(기본: false/상세: true), 하얀색 슬라이더의 위치가 toggled 상태 값에 따라 변경되도록 기능을 구현했습니다. 슬라이더의 위치 변경은 CSS의 translateX 함수를 이용해 구현했습니다.
- "기본", "상세"라는 글씨는 움직일 필요가 없으므로, Toggle 메뉴보다 z-index가 높은 컴포넌트를 별도로 생성해준 후 글씨만 담아 메뉴 컴포넌트와 겹쳐지도록 위치시켰습니다. toggled 값에 따라 css가 변경되도록 하여, 선택된 항목의 글자 색이 바뀌게 설정했습니다.

#### 어려웠던 점
- **핵심 기능 구현 방식**: 처음엔 무작정 div 여러 개를 이용해서 해당 컴포넌트를 만들었습니다. 핵심 기능 수행에는 아무런 문제가 없는 구현 방식이었지만, 이 방법으로는 도무지 예제처럼 부드럽게 작동하도록 만들 수가 없었습니다. 그래서 이 부분에 대해 공부하여 checkbox를 이용해 구현하는 방법을 터득하게 되었고, 그 방법을 활용하여 이 Toggle 기능을 구현했습니다.
- **슬라이드 애니메이션**: 이러한 기능이 필요할 때면 Material UI 등의 라이브러리를 써왔기 때문에, 부끄럽게도 이렇게 직접 구현해본 건 이번이 처음이었습니다. 그래서 슬라이드 애니메이션을 구현할 때 어떻게 해야할지 몰라 어려움을 겪었습니다. 어찌저찌 구현해봐도 하얀색 슬라이더와 글씨가 같이 움직여서 의도한대로 기능이 되지 않았습니다. 하지만 단순하게 접근해보니, toggle 메뉴 기능을 만든 후 그 메뉴 컴포넌트 위에 글씨를 얹어주면 되겠다는 생각이 들었고, 그렇게 구현하니까 잘 작동했습니다.
  
*개인적으로 전체 항목 통틀어서 1번 컴포넌트가 가장 구현하기 어려웠습니다* 😅


## 2. Tab

#### 구현 방법
- 항목 클릭 시 글자 색이 변경되고, clicked라는 state의 상태 값이 해당 항목 번호로 변경되도록 onClick 함수를 만들어줬습니다.
- clicked 값은 감자, 고구마, 카레라이스 중 하나가 선택됨에 따라 각각 0, 1, 2로 변경됩니다.
- Tab 하단의 슬라이더는 styled-components로 구현했으며, clicked 값을 props로 받아서 좌우로 이동해야 할 거리를 props.clicked * 180px(=tab 한 칸의 width)라는 식에 따라 계산한 후, translateX 함수를 통해 선택된 항목 아래로 이동하도록 만들었습니다.

#### 어려웠던 점
없음. (Toggle을 구현하면서 감을 잡은 덕에, Tab을 구현하는 과정에서는 큰 어려움이 없었습니다.)


## 3. Slider

#### 구현 방법
- 슬라이더 기능은 input type="range"를 이용해 구현했습니다. Default range input만으로는 슬라이더의 움직임을 확인할 수 없었기 때문에, 제 기능을 해낼 수 있도록 onChange 이벤트 함수를 설정해줬습니다. 슬라이더가 움직임에 따라 rangeVal이라는 state의 상태 값이 range input의 value 값으로 갱신됩니다.
- rangeVal 상태 값이 상단에 표기되도록 했습니다. 슬라이더를 움직이면 상단 값도 함께 변합니다.
- **하단 버튼**: 버튼을 클릭하면 rangeVal 상태 값이 버튼에 적힌 값으로 바뀝니다.
- **슬라이더 중간점들**: 1%, 25%, 50%, 75%, 100%을 나타내주는 조그만 원들은 div 태그로 원 5개를 만든 후 횡렬로 줄 세워서 슬라이더와 겹치게 위치시켰습니다. 이 원들이 슬라이더를 가리지 않도록 슬라이더의 z-index를 높게 잡아줬습니다.
- **픽셀 매칭**: rangeVal 값이 바뀜에 따라 슬라이더의 background 색과 슬라이더 중간점들의 색이 변하도록 구현했습니다. 중간점들은 rangeVal 값의 범위에 따라 색이 바뀌도록 설정했습니다. 슬라이더는 styled-components로 styled input을 선언한 후, props로 rangeVal 값을 받게 만들었습니다. 그리고 CSS의 linear-gradient 함수를 통해 슬라이더 기준 왼쪽은 초록색, 오른쪽은 기본 배경색이 되도록 설정했습니다. ( 0% ~ ${rangeVal}% = 초록색 / ${rangeVal}% ~ 100% = 기본색 )

#### 어려웠던 점
- **슬라이더** : input type 중에 range가 존재하는 줄 몰라서 무작정 슬라이더 기능을 직접 구현하려 했습니다. '아, 이래서 제일 어려운 문제구나'라는 생각을 하며 삽질을 했습니다. 만들기 전에 좀 더 검색해보고 알아봤으면 정말 간단하게 해결됐을텐데, 제멋대로 무작정 만들기 시작했던 저 자신이 너무 부끄럽게 느껴지는 부분입니다.
- **픽셀 매칭** : 초반에는 픽셀 매칭 기능을 어떻게 구현해야할지 도저히 감이 잡히지 않았습니다. 하지만 linear-gradient 함수와 그 사용법을 알고나니 정말 간단하게 해결됐습니다.


## 4. Input

#### 구현 방법
- 입력은 input 태그, 체크 표시&눈 표시는 div 태그를 이용해 만든 뒤, input과 div를 나란히 배치했습니다. 그 후 input의 right-padding을 div의 width 값만큼 지정하고, div의 left-margin에 음수값을 부여해서 input의 right-padding에 위치하도록 구현했습니다.
- **이메일**: input type="email"을 이용하여 입력된 텍스트가 이메일 형식에 부합하는지 자동으로 확인하게끔 만들었습니다. 하지만 이렇게만 해서는 자동 체크 표시 on/off 기능을 구현할 수 없기 때문에, validation 이벤트 함수를 만들었습니다. 입력된 텍스트가 @와 .이 포함된 형식을 지키게 되면 valid라는 state가 true로 바뀌도록 했습니다. valid가 true로 바뀌면 체크 표시도 덩달아 초록색으로 바뀌고, valid가 false 상태가 되면 체크 표시도 default 상태인 회색으로 되돌아갑니다.
- **비밀번호**: 비밀번호의 노출을 결정해줄 visible이라는 state를 설정해줬습니다. 우측의 눈 표시 버튼을 클릭함에 따라 visible의 상태는 변하게 되며, false일 때는 비밀번호가 보이지 않고(input type="password"), true 상태에서는 비밀번호가 노출됩니다(input type="text").

#### 어려웠던 점
- **이메일 형식 유효성 검사**: 과제 조건에 허용되는 이메일 형식에 대한 상세 조건이 없었기 때문에, 가장 기초적인 필터링만 가능하도록 validation 함수를 설계했습니다. 도메인이 아예 없는 경우, 사용자 이름에 @이 포함된 경우, . 뒤에 두 글자 이상 붙지 않는 경우, 도메인에 .이 아예 없거나 .이 연속으로 붙어있는 경우, . 대신 ,로 오타낸 경우, 텍스트에 띄어쓰기가 포함돼있는 경우를 걸러낼 수 있도록 구현했습니다. 


## 5. Dropdown

#### 구현 방법
- 기본 메뉴 버튼을 클릭함에 따라 expand라는 state의 true/false 상태가 결정되며, expand 상태 값에 따라 드롭다운 메뉴를 보여주거나 숨깁니다.
- 메뉴의 항목 아이템들은 임의로 정했으며, 각각의 항목들을 id와 name이라는 property들을 가진 객체로 menuObjects라는 배열에 저장해뒀습니다.
- 선택창 컴포넌트는 **메뉴**와 **검색창**이라는 두 가지 요소로 구성됐습니다.
- **메뉴**: map() 함수를 이용하여 배열의 모든 요소들의 name을 각각 div 태그에 담아 선택창 컴포넌트의 자식 컴포넌트들로 반환되도록 구현했습니다. 메뉴 항목 하나를 클릭하면 selected라는 state의 상태 값이 클릭된 항목의 name으로 변하고, 기본 메뉴 버튼의 글씨가 selected 상태 값으로 변경되도록 했습니다. 마우스 커서가 가리키는 메뉴 항목이 하이라이트 되도록 onMouseOver와 onMouseOut 이벤트도 추가해줬습니다. All groceries 항목은 menuObjects 아이템들과는 별도의 항목으로 취급하여, 검색 필터링과 상관없이 메뉴 상단에 항상 표시되도록 설정했습니다.
- **검색창**: 사용자가 검색창에 검색 키워드를 입력함에 따라 그 키워드를 search라는 state의 값으로 설정해주는 onChange 이벤트 함수를 만들었습니다. 이 search의 default state는 ""이며, default 상태에서는 배열의 모든 요소가 표시됩니다. 하지만 검색 키워드를 입력하면 그 키워드가 포함된 메뉴만을 표시하게 되고, 이 기능은 filter() 함수와 includes() 함수를 이용해서 구현했습니다. 필터링된 메뉴에서 항목 하나를 선택한 후 드롭다운 메뉴를 다시 열어도 검색 키워드와 필터링된 검색 결과는 그대로 남아있게 되며, 이 상태에서 키워드를 삭제하면 다시 모든 요소를 다 볼 수 있습니다. 그리고 대소문자 구분없이 검색 기능이 원활하게 작동하도록 toLowerCase() 함수를 통해 예외처리를 해줬습니다.

#### 어려웠던 점
없음. (비교적 자주 구현해봤던 기능이라 큰 어려움이 없었습니다.)
